<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-validator-behavior/iron-validator-behavior.html">
<script type="text/javascript" src="../../js/jquery.js"></script>

<script>
  console.log('begin');

  Polymer({

    is: 'existing-items',

    behaviors: [
      Polymer.IronValidatorBehavior
    ],

    validateObject: function(obj) {
      var valid = true;
      console.log(valid);
      $(function() {
            $.ajax({
                url: "/_get_elem_lists"
                }).done(function (data) {
                  lists = data.json_list;
                  for(var i = 0; i < lists.length; i++) {
                    for (key in obj) {
                      if (obj[key] !== lists[i]) {
                        valid = false;
                        break;
                      }
                    }
                  };
                });
      });
      return valid;
      console.log(valid);
    }
  });

</script>
